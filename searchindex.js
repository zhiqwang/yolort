Search.setIndex({"docnames": ["index", "installation", "models", "notebooks/anchor-label-assignment-visualization", "notebooks/comparison-between-yolort-vs-yolov5", "notebooks/export-onnx-inference-onnxruntime", "notebooks/export-relay-inference-tvm", "notebooks/how-to-align-with-ultralytics-yolov5", "notebooks/inference-pytorch-export-libtorch", "notebooks/model-graph-visualization", "notebooks/onnx-graphsurgeon-inference-tensorrt", "notebooks/why-yolort", "what_is_yolort", "yolov5"], "filenames": ["index.rst", "installation.rst", "models.rst", "notebooks/anchor-label-assignment-visualization.ipynb", "notebooks/comparison-between-yolort-vs-yolov5.ipynb", "notebooks/export-onnx-inference-onnxruntime.ipynb", "notebooks/export-relay-inference-tvm.ipynb", "notebooks/how-to-align-with-ultralytics-yolov5.ipynb", "notebooks/inference-pytorch-export-libtorch.ipynb", "notebooks/model-graph-visualization.ipynb", "notebooks/onnx-graphsurgeon-inference-tensorrt.ipynb", "notebooks/why-yolort.ipynb", "what_is_yolort.rst", "yolov5.rst"], "titles": ["Welcome to yolort\u2019s documentation!", "Install yolort", "yolort.models", "Visualize the anchor-target assignment", "What is the difference between yolort and yolov5", "Deploying yolort on ONNX Runtime", "Deploying yolort on TVM", "How to align with ultralytics yolov5", "Intuition for yolort", "Visualize model graph", "Deploying yolort on TensorRT", "Why yolort?", "&lt;no title&gt;", "Modules and utils for YOLOv5"], "terms": {"what": [0, 3], "i": [0, 2, 3, 5, 6, 9, 10, 11, 13], "focu": [0, 13], "make": 0, "train": [0, 4, 7, 11, 13], "infer": [0, 2, 10, 13], "object": [0, 3], "detect": [0, 2, 3, 5, 13], "task": 0, "integr": 0, "more": [0, 2, 4, 6, 10], "seamlessli": [0, 11], "togeth": 0, "now": [0, 4, 10], "adopt": [0, 4, 5], "same": [0, 3, 4, 5, 6, 9, 10, 13], "model": [0, 3, 6, 13], "structur": [0, 4], "offici": [0, 1, 4, 5, 6, 7, 11], "yolov5": [0, 1, 2, 3, 6, 9, 10], "The": [0, 2, 3, 4, 5, 6, 9, 10], "signific": 0, "differ": [0, 2, 5, 6, 9, 10], "we": [0, 2, 4, 5, 6, 7, 9, 10], "dynam": [0, 5], "shape": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 13], "mechan": [0, 5], "within": 0, "thi": [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "can": [0, 2, 4, 5, 6, 9, 10], "emb": [0, 5, 10], "both": [0, 2, 4], "pre": [0, 4, 5, 7, 8, 10], "process": [0, 2, 4, 5, 7, 8, 10], "letterbox": [0, 2, 4, 5, 7, 11, 13], "post": [0, 2, 4, 5, 7, 10], "nm": [0, 4, 6, 10, 13], "graph": [0, 4, 5, 10], "which": [0, 3, 4, 5, 11], "simplifi": 0, "strategi": [0, 4], "In": [0, 5, 6, 9, 10, 13], "sens": 0, "possibl": [0, 2, 13], "deploi": 0, "friendli": [0, 2, 11], "libtorch": [0, 4, 11], "onnx": [0, 2, 4, 11], "runtim": [0, 4, 6, 10, 11], "tensorrt": [0, 11], "tvm": [0, 2, 4], "so": [0, 4, 5], "about": 0, "code": [0, 5, 6, 8, 9], "follow": [0, 1, 2, 5], "design": 0, "principl": 0, "detr": 0, "should": [0, 2, 4, 5, 6, 10], "difficult": [0, 3], "than": [0, 5, 9], "classif": [0, 2], "requir": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10], "complex": 0, "librari": [0, 10], "veri": [0, 4], "simpl": 0, "implement": [0, 4, 7, 11], "experi": [0, 10], "you": [0, 1, 4, 5, 6, 9, 10, 11], "like": 0, "torchvis": [0, 1, 3, 5, 6, 11], "faster": 0, "rcnn": [0, 6], "retinanet": 0, "love": 0, "read": 0, "sourc": [0, 2, 13], "imag": [0, 2, 9, 13], "its": [0, 2], "from": [0, 1, 2, 3, 4, 8, 9, 10, 13], "import": [0, 2, 3, 4, 5, 7, 8, 9, 10, 11], "load": [0, 2, 10, 11, 13], "pretrain": [0, 2, 6, 8, 9], "true": [0, 2, 3, 5, 6, 7, 8, 9, 10, 13], "score_thresh": [0, 2, 4, 5, 7, 8, 10], "0": [0, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 13], "45": [0, 4, 5, 6, 7, 10, 13], "eval": [0, 2, 4, 5, 7, 8, 10, 11], "perform": [0, 2, 6, 8, 10], "an": [0, 2, 4, 5, 6, 7, 9, 10], "file": [0, 2, 8, 13], "predict": [0, 2, 4, 5, 7, 13], "bu": [0, 2, 3, 4, 5, 6, 7, 8, 10], "jpg": [0, 2, 4, 5, 6, 7, 8, 10, 13], "list": [0, 2, 3, 5, 11, 13], "zidan": [0, 2, 4, 5, 6, 7, 8, 10, 13], "checkpoint": [0, 2, 7, 11, 13], "And": [0, 4, 6, 10], "support": [0, 2, 4, 6, 10, 13], "weight": 0, "pleas": [0, 6], "see": [0, 4, 5, 6, 10], "our": [0, 4, 6, 7], "share": 0, "how": 0, "detail": [0, 4, 6, 10], "v5": [0, 4, 5, 7, 8, 10, 11, 13], "attempt_download": [0, 4, 5, 7, 10, 11, 13], "download": [0, 2, 4, 5, 7, 8, 10, 11], "http": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "github": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "com": [0, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "ultralyt": [0, 2, 5, 10, 11, 13], "releas": [0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 13], "v6": [0, 4, 5, 7, 10, 11, 13], "yolov5n6": [0, 2, 5, 7, 8, 10], "pt": [0, 2, 4, 5, 7, 8, 10, 11, 13], "model_path": [0, 4, 5, 7, 10, 11], "checkpoint_path": [0, 2, 4, 5, 7, 10, 11, 13], "load_from_yolov5": [0, 2, 4, 5, 7, 10], "25": [0, 5, 7, 10, 13], "img_path": [0, 4, 10], "instal": [0, 5, 6, 9], "why": 0, "intuit": 0, "between": 0, "align": [0, 4], "visual": [0, 4, 7, 8], "anchor": [0, 5, 6, 10, 13], "target": [0, 2, 5, 6, 8], "assign": [0, 10], "modul": [0, 2, 4, 5, 10, 11], "util": [0, 3, 4, 6, 7, 8, 10], "autoshap": [0, 4, 13], "bottleneck": [0, 13], "bottleneckcsp": [0, 13], "c3": [0, 5, 13], "c3tr": [0, 13], "concat": [0, 5, 13], "contract": [0, 13], "conv": [0, 5, 13], "dwconv": [0, 13], "ensembl": [0, 13], "expand": [0, 13], "ghostbottleneck": [0, 13], "ghostconv": [0, 13], "spp": [0, 13], "sppf": [0, 5, 13], "add_yolov5_context": [0, 13], "focus_transform": [0, 13], "get_yolov5_s": [0, 13], "intersect_dict": [0, 13], "load_yolov5_model": [0, 4, 7, 13], "non_max_suppress": [0, 4, 6, 7, 13], "scale_coord": [0, 4, 7, 13], "select_devic": [0, 13], "set_log": [0, 13], "space_to_depth": [0, 13], "abov": [1, 7, 9, 10], "all": [1, 9], "instruct": [1, 5], "pytorch": [1, 4, 6, 11, 13], "1": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "8": [1, 3, 4, 5, 6, 7, 8, 9, 10, 11], "9": [1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "To": [1, 4, 5, 6, 9], "mai": [1, 5, 6, 11], "either": 1, "us": [1, 2, 5, 6, 7, 8, 9, 10, 11, 13], "repositori": 1, "zhiqwang": [1, 3, 4, 5, 6, 7, 8, 9, 10, 11], "rt": [1, 3, 4, 5, 6, 7, 8, 9, 10, 11], "stack": [1, 3, 4, 5, 6, 7, 8, 9, 10, 11], "setup": 1, "py": [1, 4, 5, 6, 7, 8, 9, 10, 13], "pip": [1, 5, 6, 9, 10, 11, 13], "u": [1, 6, 9, 10], "get": [1, 3, 5, 8, 10, 11], "latest": 1, "git": 1, "develop": 1, "version": [1, 2, 4, 5, 6, 7, 10, 11, 13], "option": [1, 2, 8, 10, 13], "pycocotool": 1, "evalu": [1, 2], "coco": [1, 2, 3, 4, 5, 8, 10], "ppwwyyxx": 1, "cocoapi": 1, "subdirectori": 1, "pythonapi": 1, "expect": [2, 5], "tensor": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "c": [2, 5, 10, 13], "h": [2, 3, 5, 6, 13], "w": [2, 3, 5, 10, 13], "rang": [2, 3, 5, 6, 10], "intern": [2, 4, 5, 6, 7, 8, 9, 10], "resiz": [2, 4, 6], "behaviour": 2, "vari": 2, "depend": 2, "check": [2, 5, 10], "constructor": 2, "inform": [2, 13], "arch": 2, "str": [2, 13], "none": [2, 3, 4, 5, 7, 10, 13], "num_class": [2, 11], "int": [2, 3, 11, 13], "80": [2, 5, 13], "bool": [2, 13], "fals": [2, 4, 5, 7, 10, 13], "progress": 2, "size": [2, 5, 6, 8, 10, 11, 13], "tupl": [2, 8, 9, 13], "640": [2, 4, 5, 6, 7, 8, 10, 11, 13], "size_divis": [2, 4, 5, 10], "32": [2, 5, 8, 10, 13], "fixed_shap": [2, 4, 10], "fill_color": 2, "114": [2, 13], "kwarg": [2, 4, 5, 6, 7, 8, 9, 10], "ani": [2, 5, 6, 9, 10], "wrap": [2, 10], "yolo": [2, 5, 7, 8, 9, 10, 11], "input": [2, 3, 4, 5, 6, 9, 10, 11, 13], "each": [2, 5, 6, 8, 10], "one": [2, 4, 10], "have": [2, 4, 6], "thei": 2, "fix": 2, "maintain": [2, 4], "aspect": [2, 4], "ratio": [2, 3, 4], "befor": 2, "pass": [2, 4, 5, 6, 7, 8, 9, 10, 13], "backbon": [2, 3], "behavior": 2, "chang": [2, 5, 6, 9, 10], "mode": [2, 4, 5, 10], "dure": 2, "well": [2, 5], "dictionari": [2, 13], "contain": [2, 10], "box": [2, 3, 4, 5, 7, 8, 9, 10], "floattensor": 2, "n": [2, 4, 5, 7, 13], "4": [2, 3, 4, 5, 6, 7, 8, 9, 10, 11], "ground": 2, "truth": 2, "x1": 2, "y1": 2, "x2": 2, "y2": 2, "format": [2, 11], "label": [2, 3, 4, 5, 7, 8, 10, 13], "int64tensor": 2, "class": [2, 3, 11, 13], "return": [2, 4, 5, 6, 7, 8, 9, 10, 11, 13], "dict": 2, "regress": 2, "loss": [2, 8], "onli": [2, 4, 6, 10], "field": [2, 5], "ar": [2, 3, 4, 6, 7, 9, 10, 13], "where": [2, 3, 6, 7], "number": [2, 3, 5, 6, 9, 10, 13], "score": [2, 4, 5, 7, 8, 10], "exampl": [2, 13], "demo": [2, 10], "pipelin": [2, 4, 5, 10], "6": [2, 3, 4, 5, 7, 8, 9, 10, 11, 13], "yolov5_darknet_pan_s_r60": 2, "35": [2, 4, 5, 10], "predictions2": 2, "also": [2, 4, 6, 9], "custom": 2, "your": [2, 6, 10], "yolov5n": 2, "paramet": [2, 5, 7, 10, 13], "string": [2, 10], "architectur": 2, "default": [2, 13], "nn": [2, 4, 5, 6, 11, 13], "output": [2, 5, 10, 11], "doesn": 2, "t": [2, 3, 5, 6, 9, 10], "includ": [2, 4, 5, 13], "background": 2, "If": [2, 5], "train2017": [2, 3], "displai": 2, "bar": 2, "stderr": 2, "minimum": [2, 6], "maximum": [2, 13], "rescal": [2, 5, 7], "stride": [2, 4, 5, 6, 7, 8, 9, 10, 11, 13], "pad": [2, 4, 11, 13], "set": [2, 4], "specifi": [2, 13], "instead": [2, 9], "rectangl": 2, "match": [2, 3, 13], "min_siz": 2, "max_siz": 2, "edg": 2, "divis": 2, "fill": 2, "valu": [2, 5, 13], "coco_instance_category_nam": 2, "person": [2, 3], "bicycl": [2, 3], "car": [2, 3], "motorcycl": [2, 3], "airplan": [2, 3], "truck": [2, 3], "boat": [2, 3], "traffic": [2, 3], "light": [2, 3], "fire": [2, 3], "hydrant": [2, 3], "stop": [2, 3], "sign": [2, 3], "park": [2, 3], "meter": [2, 3], "bench": [2, 3], "bird": [2, 3], "cat": [2, 3], "dog": [2, 3], "hors": [2, 3], "sheep": [2, 3], "cow": [2, 3], "eleph": [2, 3], "bear": [2, 3], "zebra": [2, 3], "giraff": [2, 3], "backpack": [2, 3], "umbrella": [2, 3], "handbag": [2, 3], "tie": [2, 3], "suitcas": [2, 3], "frisbe": [2, 3], "ski": [2, 3], "snowboard": [2, 3], "sport": [2, 3], "ball": [2, 3], "kite": [2, 3], "basebal": [2, 3], "bat": [2, 3], "glove": [2, 3], "skateboard": [2, 3], "surfboard": [2, 3], "tenni": [2, 3], "racket": [2, 3], "bottl": [2, 3], "wine": [2, 3], "glass": [2, 3], "cup": [2, 3], "fork": [2, 3], "knife": [2, 3], "spoon": [2, 3], "bowl": [2, 3], "banana": [2, 3], "appl": [2, 3], "sandwich": [2, 3], "orang": [2, 3], "broccoli": [2, 3], "carrot": [2, 3], "hot": [2, 3], "pizza": [2, 3], "donut": [2, 3], "cake": [2, 3], "chair": [2, 3], "couch": [2, 3], "pot": [2, 3], "plant": [2, 3], "bed": [2, 3], "dine": [2, 3], "tabl": [2, 3], "toilet": [2, 3], "tv": [2, 3], "laptop": [2, 3], "mous": [2, 3], "remot": [2, 3], "keyboard": [2, 3], "cell": [2, 3], "phone": [2, 3], "microwav": [2, 3], "oven": [2, 3], "toaster": [2, 3], "sink": [2, 3], "refriger": [2, 3], "book": [2, 3], "clock": [2, 3], "vase": [2, 3], "scissor": [2, 3], "teddi": [2, 3], "hair": [2, 3], "drier": [2, 3], "toothbrush": [2, 3], "upstream_vers": 2, "r6": [2, 7, 11], "export_friendli": 2, "upstream": 2, "decid": 2, "whether": 2, "export": [2, 4, 6, 7, 8, 11], "r3": [2, 13], "r4": [2, 13], "yolov5s6": [2, 4, 10, 11], "yolov5m": 2, "yolov5m6": 2, "yolov5l": 2, "yolov5t": 2, "o": [3, 4, 5, 7, 8, 10], "random": 3, "pathlib": 3, "path": [3, 13], "numpi": [3, 6, 13], "np": [3, 4, 6, 13], "torch": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "environ": [3, 8, 10], "cuda_device_ord": [3, 4, 5, 7, 8, 10], "pci_bus_id": [3, 4, 5, 7, 8, 10], "cuda_visible_devic": [3, 4, 5, 7, 8, 10], "devic": [3, 4, 5, 6, 7, 8, 9, 10, 13], "cpu": [3, 4, 5, 6, 7, 8, 10], "2": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "determinist": 3, "reproduc": 3, "manual_se": 3, "24": [3, 5, 10], "seed": 3, "5": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "95": 3, "3": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "io": 3, "contextlib": 3, "cv2": [3, 4, 5, 6, 7, 8, 10, 13], "op": [3, 5, 10], "box_convert": 3, "yolort": [3, 9, 13], "data": [3, 4, 10, 13], "cocodetectiondatamodul": 3, "transform": [3, 5, 6, 9], "yolotransform": [3, 10], "image_util": [3, 4, 5], "color_list": 3, "plot_one_box": 3, "cv2_imshow": [3, 4], "load_nam": 3, "parse_single_imag": [3, 4], "parse_imag": 3, "name": [3, 4, 6, 7, 8, 9, 10, 13], "color": [3, 13], "acquir": 3, "data_path": 3, "bin": 3, "coco128_dirnam": 3, "coco128_path": 3, "image_root": 3, "annotation_path": 3, "annot": 3, "batch_siz": [3, 10, 13], "redirect_stdout": 3, "stringio": 3, "datamodul": [3, 9], "anno_path": 3, "skip_val_set": 3, "7": [3, 4, 5, 6, 7, 8, 9, 10, 11], "test_dataload": 3, "iter": [3, 5, 6, 9, 10], "train_dataload": 3, "next": 3, "idx": 3, "randrang": 3, "img_raw": [3, 4, 7, 8, 10], "cvtcolor": 3, "color_rgb2bgr": 3, "For": [3, 4, 6, 10, 13], "zip": [3, 5, 6, 10], "tolist": [3, 6], "len": [3, 5, 6, 11], "imshow_scal": [3, 4], "10": [3, 4, 5, 6, 7, 8, 10], "11": [3, 4, 5, 6, 7, 8, 10], "12": [3, 4, 5, 6, 7, 8, 10], "13": [3, 4, 5, 6, 7, 8, 10, 13], "attach_idx": 3, "dtype": [3, 4, 5, 6, 7, 9, 10], "int32": [3, 10], "img_train": 3, "img_h": [3, 5, 6, 8], "img_w": [3, 5, 6, 8], "targets_train": 3, "in_fmt": 3, "cxcywh": 3, "out_fmt": 3, "xyxi": [3, 13], "14": [3, 4, 5, 7, 8, 10], "featureextractor": 3, "15": [3, 4, 5, 7, 8, 10], "yolo_featur": 3, "return_lay": 3, "head": [3, 11], "intermediate_featur": 3, "head_output": [3, 5, 6, 10, 11], "16": [3, 4, 5, 8, 10, 13], "num_lay": 3, "as_tensor": [3, 5, 6, 9, 10], "anchor_gener": 3, "anchor_grid": [3, 5, 6, 9, 10, 11], "float32": [3, 5, 6, 9, 10], "view": [3, 4, 5, 6, 7, 8, 9, 10, 11], "17": [3, 4, 5, 8, 10], "build": [3, 6, 10], "compute_loss": 3, "x": [3, 6, 9, 10, 13], "y": [3, 13], "num_anchor": [3, 11], "num_target": 3, "targets_cl": 3, "targets_box": 3, "anchors_encod": 3, "indic": [3, 5], "grid_assign": 3, "gain": [3, 4, 10, 13], "ones": 3, "normal": 3, "gridspac": 3, "repeat_interleav": 3, "ai": 3, "arang": [3, 6], "float": [3, 4, 5, 6, 10, 13], "repeat": [3, 6], "targets_append": 3, "append": [3, 6], "g": [3, 13], "bia": 3, "off": 3, "j": 3, "k": [3, 8, 13], "l": 3, "m": [3, 5, 6, 8, 10], "jk": 3, "jm": 3, "lk": 3, "lm": 3, "offset": 3, "18": [3, 4, 5, 8, 10], "anchor_threshold": 3, "": [3, 7, 8, 9, 10, 13], "actual": [3, 10], "go": 3, "subdivid": 3, "grid": [3, 5, 6, 10], "squar": 3, "coordin": [3, 4], "upper": 3, "left": 3, "corner": 3, "neural": 3, "network": [3, 10], "provid": [3, 4, 5, 7, 10], "enforc": 3, "sigmoid": [3, 6], "cover": 3, "center": 3, "multipli": [3, 6], "two": 3, "allow": 3, "larger": 3, "slightli": 3, "outsid": [3, 10], "otherwis": 3, "boundari": 3, "subtract": [3, 6], "shift": [3, 5, 6, 9, 10], "result": [3, 6, 9, 13], "around": 3, "19": [3, 4, 5, 8, 10], "anchors_per_lay": 3, "targets_with_gain": 3, "ratios_wh": 3, "wh": [3, 13], "ratios_filt": 3, "max": [3, 6, 10], "ind": 3, "filter": 3, "grid_xi": 3, "xy": 3, "grid_xy_invers": 3, "invers": 3, "inds_jk": 3, "inds_lm": 3, "inds_on": 3, "ones_lik": 3, "dim": 3, "zeros_lik": 3, "els": [3, 4, 6, 7, 8], "defin": [3, 4, 5, 6, 7, 8, 9, 10], "bc": 3, "long": [3, 6], "grid_wh": 3, "grid_ij": 3, "clamp_": 3, "20": [3, 4, 5, 8, 10], "anchor_match_visu": 3, "21": [3, 5, 8, 10], "images_with_anchor": 3, "22": [3, 5, 10], "document": [3, 4, 5, 6, 7, 8, 9, 10, 11], "notebook": [3, 4, 5, 6, 7, 8, 9, 10, 11], "blob": [3, 4, 5, 6, 7, 8, 9, 10, 11, 13], "main": [3, 4, 5, 6, 7, 8, 9, 10, 11], "ipynb": [3, 4, 5, 6, 7, 8, 9, 10, 11], "reason": 4, "enabl": 4, "jit": [4, 5, 8, 11], "traceabl": 4, "scriptabl": 4, "end": [4, 10], "error": [4, 5, 6, 9, 10], "aris": 4, "interpol": [4, 11], "oper": [4, 5, 6, 11], "uint8": 4, "255": [4, 6], "opencv": [4, 13], "function": [4, 6, 7, 8, 9, 10, 13], "fortun": 4, "howev": 4, "type": [4, 5, 6, 7, 8, 9, 10, 11], "cast": [4, 6, 10], "therefor": 4, "introduc": 4, "some": [4, 5, 10], "power": [4, 6], "do": [4, 7, 10], "non": [4, 13], "agnost": [4, 7, 13], "accuraci": 4, "here": [4, 7], "abl": 4, "consist": [4, 7, 11], "origin": [4, 7], "doc": [4, 10], "cuda": [4, 7, 8, 10], "is_avail": [4, 7, 8, 10], "read_image_to_tensor": [4, 5, 7, 8], "safe_download": [4, 7, 8, 10], "img_siz": [4, 5, 7, 10], "64": [4, 5, 7, 8, 10], "nms_thresh": [4, 5, 7, 10], "img_sourc": [4, 6, 7, 8, 10], "huggingfac": [4, 5, 6, 7, 8, 10], "co": [4, 5, 6, 7, 8, 10], "space": [4, 5, 6, 7, 8, 10, 13], "asset": [4, 5, 6, 7, 8, 10], "resolv": [4, 5, 6, 7, 8, 10], "split": [4, 6, 8, 10], "robust": [4, 13], "wrapper": [4, 13], "pil": [4, 13], "current": [4, 6, 13], "valid": [4, 6], "peel": 4, "back": [4, 7], "essenc": 4, "insid": 4, "vanilla": 4, "interfac": [4, 10], "call": [4, 5, 6, 9, 10], "part": [4, 7], "first": [4, 5, 8, 10], "preprocess": [4, 13], "imread": [4, 10, 13], "img_shap": 4, "auto_rectangl": 4, "new_shap": [4, 7, 13], "auto": [4, 13], "vi": 4, "let": [4, 5, 8, 10], "wai": [4, 5, 7, 10, 13], "75": 4, "convert_bgr_to_rgb": 4, "model_yolov5": [4, 7], "no_grad": [4, 5, 6, 7, 8], "yolov5_det": [4, 7], "opt": [4, 5, 7, 8], "conda": [4, 5, 7, 8], "lib": [4, 5, 6, 7, 8, 9, 10], "python3": [4, 5, 6, 7, 8, 9, 10], "site": [4, 5, 6, 7, 8, 9, 10], "packag": [4, 5, 6, 7, 8, 9, 10, 11], "445": [4, 5, 6, 7, 8, 9], "userwarn": [4, 5, 6, 7, 8, 9, 10], "meshgrid": [4, 5, 6, 7, 8, 9, 10], "upcom": [4, 5, 6, 7, 8, 9, 10], "index": [4, 5, 6, 7, 8, 9, 10], "argument": [4, 5, 6, 7, 8, 9, 10], "trigger": [4, 5, 6, 7, 8, 9, 10], "aten": [4, 5, 6, 7, 8, 9, 10], "src": [4, 5, 6, 7, 8, 9, 10], "nativ": [4, 5, 6, 7, 8, 9, 10, 11], "tensorshap": [4, 5, 6, 7, 8, 9, 10], "cpp": [4, 5, 6, 7, 8, 9, 10], "2157": [4, 5, 6, 7, 8, 9], "_vf": [4, 5, 6, 7, 8, 9, 10], "ignor": [4, 5, 6, 7, 8, 9, 10], "attr": [4, 5, 6, 7, 8, 9, 10], "Then": 4, "restor": 4, "scale": [4, 7, 8, 10, 13], "boxes_yolov5": 4, "labels_yolov5": 4, "int64": [4, 7, 10], "scores_yolov5": 4, "after": [4, 10], "complet": [4, 6], "label_sourc": [4, 8, 10], "label_path": [4, 8, 10], "v": [4, 7, 8, 10], "metalabel": [4, 8, 10], "draw_instance_predict": [4, 7, 8, 10], "imshow": [4, 7, 8, 10], "At": 4, "moment": 4, "whole": [4, 10], "trace": [4, 5, 9, 10], "script": [4, 11], "torchscript": [4, 11], "virtualmachin": [4, 6], "backend": [4, 11], "model_yolort": [4, 7], "Its": 4, "easi": [4, 10, 11], "yolort_det": [4, 7], "boxes_yolort": 4, "labels_yolort": 4, "scores_yolort": 4, "print": [4, 5, 6, 7, 8, 9, 10], "out": [4, 5, 6, 8, 9, 10, 11], "f": [4, 5, 6, 7, 8, 10, 11], "135": 4, "26688": 4, "195": 4, "07532": 4, "1126": 4, "30615": 4, "718": 4, "77856": 4, "747": 4, "54639": 4, "38": [4, 5, 10], "90421": 4, "1154": 4, "26477": 4, "711": 4, "03455": 4, "439": 4, "68539": 4, "436": [4, 5], "93619": 4, "508": 4, "41635": 4, "93982": 4, "39": [4, 5, 6, 7, 9, 10], "69894": 4, "08270": 4, "30603": 4, "74518": 4, "56873": 4, "92401": 4, "24414": 4, "710": 4, "97394": 4, "69324": 4, "99841": 4, "36639": 4, "712": 4, "00159": 4, "90279": 4, "82556": 4, "42047": 4, "82555": 4, "42183": 4, "27": [4, 5], "assert_allclos": [4, 5, 6, 7, 8], "rtol": [4, 5, 6, 8, 10], "1e": [4, 5, 6, 8, 10], "atol": [4, 5, 6, 8, 10], "ha": [4, 5, 6, 7, 8, 10], "been": [4, 5, 6, 7, 8, 10], "look": [4, 5, 6, 7, 8, 10], "good": [4, 5, 6, 7, 8, 10], "As": [4, 7, 10], "still": 4, "rel": 4, "accur": 4, "comparison": 4, "other": [5, 6, 9, 10], "three": 5, "mainli": [5, 13], "compos": 5, "rgb": [5, 13], "channel": 5, "batched_nm": 5, "straightforward": 5, "run": [5, 6, 8, 10, 13], "tutori": [5, 6], "matrix": 5, "recommend": [5, 6, 9], "desir": 5, "combin": 5, "system": 5, "hardwar": 5, "acceler": 5, "languag": 5, "A": [5, 6], "quick": [5, 6], "solut": [5, 6], "via": [5, 6, 10, 11], "x64": 5, "onnxruntim": 5, "get_image_from_url": [5, 6, 7, 8], "to_numpi": 5, "inferenc": 5, "opset_vers": 5, "img_src1": 5, "img_on": 5, "is_half": 5, "img_src2": 5, "img_two": 5, "below": [5, 10], "2017": 5, "dataset": [5, 8], "onnx_path": [5, 10], "param": [5, 6], "1760": 5, "common": 5, "4672": 5, "4800": 5, "18560": 5, "29184": 5, "73984": 5, "128": 5, "156928": 5, "221568": 5, "192": 5, "167040": 5, "442880": 5, "256": 5, "296448": 5, "164608": 5, "49536": 5, "upsampl": 5, "nearest": 5, "203904": 5, "384": 5, "24832": 5, "90880": 5, "8320": 5, "23": [5, 8], "22912": 5, "36992": 5, "26": 5, "74496": 5, "147712": 5, "28": 5, "29": 5, "179328": 5, "30": 5, "332160": 5, "31": [5, 6, 9], "329216": 5, "33": 5, "164220": 5, "44": [5, 7], "40": [5, 10], "94": 5, "96": 5, "68": 5, "86": 5, "152": 5, "180": [5, 8], "137": 5, "140": 5, "301": 5, "303": 5, "264": 5, "238": [5, 7], "542": 5, "615": 5, "739": 5, "380": 5, "925": 5, "792": 5, "summari": [5, 7, 10], "355": 5, "layer": [5, 7, 13], "3246940": 5, "gradient": [5, 7], "gflop": [5, 7], "model_out": [5, 8], "timeit": [5, 6, 8, 10], "slowest": 5, "took": [5, 10], "09": [5, 8], "time": [5, 6, 9, 10], "longer": 5, "fastest": 5, "could": 5, "mean": [5, 6, 8, 10], "intermedi": 5, "being": 5, "cach": [5, 10], "115": 5, "71": 5, "per": [5, 6, 8, 10, 13], "loop": [5, 6, 8, 10], "std": [5, 6, 8, 10], "dev": [5, 6, 8, 10], "27846": [5, 8], "225": [5, 7, 8], "15266": 5, "811": [5, 8], "47729": [5, 8], "740": [5, 8, 10], "91071": 5, "50": [5, 8, 9], "42178": [5, 8], "387": [5, 8], "48898": 5, "241": [5, 8], "54399": 5, "897": [5, 8], "61041": 5, "219": [5, 8], "03331": 5, "386": [5, 8, 10], "14346": [5, 8], "345": [5, 8, 10], "77689": 5, "869": [5, 8], "02582": [5, 8], "678": [5, 8], "05023": [5, 8], "374": [5, 8], "65326": 5, "809": [5, 8], "80334": 5, "874": [5, 8, 10], "80621": [5, 8], "88238": [5, 8], "84486": [5, 8], "72629": [5, 8], "70077": [5, 8], "ort_help": 5, "export_onnx": 5, "opset": [5, 10], "3701": [5, 6], "copi": [5, 6, 9, 10], "construct": [5, 6, 9, 10], "sourcetensor": [5, 6, 9], "clone": [5, 6, 9], "detach": [5, 6, 8, 9], "requires_grad_": [5, 6, 9], "rather": [5, 6, 9], "floor": [5, 6], "scale_factor": [5, 6], "282": [5, 6], "tracerwarn": [5, 6, 9, 10], "over": [5, 6, 9, 10], "might": [5, 6, 9, 10], "caus": [5, 6, 9, 10], "incorrect": [5, 6, 9, 10], "won": [5, 6, 9, 10], "execut": [5, 6, 9, 10], "lead": [5, 6, 9, 10], "silent": [5, 6, 9, 10], "give": [5, 6, 9, 10], "_get_shape_onnx": [5, 6], "img": [5, 6, 8, 9, 13], "anchor_util": [5, 6, 9, 10], "regist": [5, 6, 9, 10], "constant": [5, 6, 9, 10], "safe": [5, 6, 9, 10], "warn": [5, 6, 8, 9, 10], "creat": [5, 6, 9, 10, 13], "variabl": [5, 6, 9, 10], "would": [5, 6, 9, 10], "everi": [5, 6, 9, 10], "case": [5, 6, 9, 10], "self": [5, 6, 9, 10, 11], "46": [5, 6, 10], "box_head": [5, 6, 10, 11], "402": [5, 6], "333": [5, 6], "symbolic_opset9": 5, "2815": 5, "advanc": 5, "achiev": 5, "multipl": [5, 13], "reshap": [5, 6], "transpos": [5, 6], "gather": 5, "neg": [5, 6], "produc": [5, 10], "34": [5, 6, 8, 10], "form": 5, "onnx_model": 5, "checker": 5, "check_model": 5, "human": 5, "readabl": 5, "represent": 5, "helper": 5, "printable_graph": 5, "start": [5, 6, 8], "__version__": [5, 8, 10], "prepar": 5, "_": [5, 11], "_flatten": 5, "map": 5, "predictorort": 5, "y_runtim": [5, 10], "wa": [5, 6, 10], "initi": 5, "ort_outs1": 5, "measur": 5, "speed": 5, "47": [5, 10], "614": 5, "\u00b5": [5, 8, 10], "test": [5, 8, 11], "04": [5, 10], "07": [5, 8], "when": 5, "work": [5, 10], "onc": [5, 8, 10], "out_pytorch": 5, "comput": [5, 10, 11], "ort_outs2": 5, "37": 5, "767": 5, "articl": 6, "introductori": 6, "begin": [6, 10], "sinc": 6, "zoo": 6, "refer": [6, 9], "org": [6, 10], "local": [6, 9, 10], "backward": 6, "compat": 6, "proper": 6, "unstabl": 6, "maco": 6, "m1": 6, "copyright": 6, "most": 6, "in_siz": 6, "input_shap": 6, "get_trace_modul": [6, 9], "model_func": 6, "script_modul": 6, "user": [6, 9], "zhiqiang": 6, "miniconda3": [6, 10], "env": [6, 10], "_jit_intern": [6, 9], "668": [6, 9], "lightningdeprecationwarn": [6, 9], "lightningmodul": [6, 9], "loaded_optimizer_states_dict": [6, 9], "properti": [6, 9], "deprec": [6, 9], "v1": [6, 9], "remov": [6, 9], "hasattr": [6, 9], "mod": [6, 9], "model_s": 6, "pytorch_lightn": 6, "memori": [6, 10], "get_model_size_mb": 6, "669": 6, "item": [6, 8], "getattr": 6, "yolo_modul": [6, 9], "113": 6, "179": [6, 8], "__torch__": 6, "trace_wrapp": 6, "tracewrapp": 6, "1228800": 6, "409600": 6, "requires_grad": 6, "prim": 6, "4973": 6, "callmethod": 6, "forward": [6, 9, 11, 13], "4970": 6, "4971": 6, "4972": 6, "tupleunpack": 6, "3751": 6, "tupleconstruct": 6, "astyp": 6, "expand_dim": 6, "axi": 6, "input_nam": 6, "input0": 6, "shape_list": 6, "frontend": 6, "from_pytorch": 6, "inject": 6, "base": 6, "highest": 6, "prioriti": 6, "strided_slic": 6, "reduc": [6, 10], "min": [6, 10], "divid": 6, "ceil": 6, "squeez": 6, "round": [6, 10], "add": [6, 13], "note": [6, 11], "x86": 6, "highli": 6, "intel": 6, "mkl": 6, "openmp": 6, "best": 6, "due": 6, "exist": 6, "larg": 6, "dens": 6, "machin": 6, "avx512": 6, "llvm": 6, "mcpu": 6, "skylak": 6, "passcontext": 6, "opt_level": 6, "vm_exec": 6, "sqrt": 6, "take": 6, "less": [6, 10], "One": [6, 10], "tune": 6, "better": 6, "debug": 6, "log": [6, 10], "level": 6, "conv2d_nchw": 6, "conv2d": [6, 13], "layout_transform": 6, "resize2d": 6, "conv2d_nchwc": 6, "contrib_conv2d_nchwc": 6, "concaten": 6, "pool": [6, 13], "max_pool2d": 6, "gener": [6, 10, 13], "greater": 6, "argwher": 6, "adv_index": 6, "ndarray_s": 6, "equal": 6, "zero": [6, 13], "shape_of": 6, "vision": 6, "54": 6, "te": 6, "schedul": 6, "bound": 6, "cc": 6, "119": 6, "feed": 6, "consum": [6, 8], "hybrid": 6, "hybrid_nm": 6, "0x60000a817250": 6, "slice_lik": 6, "greater_equ": 6, "dyn": 6, "let_list": 6, "letlist": 6, "prod": 6, "55": [6, 8], "ctx": 6, "set_input": 6, "tvm_re": 6, "65": [6, 7], "score_threshold": [6, 10], "asnumpi": 6, "valid_box": 6, "enumer": 6, "break": 6, "torch_r": 6, "from_numpi": 6, "describ": 7, "except": 7, "without": [7, 10], "fuse": [7, 13], "280": 7, "3239884": 7, "74416": 7, "232": 7, "15422": 7, "157": 7, "04727": 7, "538": 7, "13794": 7, "146": 7, "63568": 7, "240": 7, "12418": 7, "43250": 7, "510": 7, "41220": 7, "53426": 7, "134": 7, "64476": 7, "494": 7, "38147": 7, "448": 7, "66479": [7, 10], "409": 7, "49249": 7, "245": 7, "16835": 7, "500": 7, "71967": 7, "521": 7, "58521": 7, "60999": 7, "334": 7, "60873": 7, "38913": 7, "529": 7, "11676": 7, "86551": 7, "80977": 7, "80078": 7, "77364": 7, "30176": 7, "hah": 7, "trick": 7, "correctli": 7, "need": [7, 9, 11], "48": 7, "50578": 7, "391": 7, "76025": 7, "01727": 7, "908": 7, "10779": 7, "220": [7, 10], "44771": 7, "405": 7, "20953": 7, "353": 7, "41733": 7, "861": 7, "32062": 7, "00000": [7, 10], "227": 7, "21303": 7, "807": 7, "26874": 7, "757": 7, "12183": 7, "664": 7, "01855": 7, "413": 7, "72159": 7, "810": [7, 10], "880": [7, 10], "17505": 7, "564": [7, 8], "65222": 7, "83": 7, "34415": 7, "892": 7, "88452": 7, "request": 8, "15259": 8, "91077": 8, "48911": 8, "54393": 8, "61035": 8, "03334": 8, "77686": 8, "65341": 8, "80341": 8, "1080x810": 8, "raw": [8, 10], "githubusercont": [8, 10], "export_script_nam": 8, "filenam": [8, 10], "cu113": 8, "model_script": 8, "save": [8, 10], "subsequ": [8, 10], "out_script": 8, "alwai": 8, "dummi": 8, "graphviz": 9, "relai": [9, 10], "tracing_modul": 9, "usr": 9, "access": 9, "through": 9, "trainer": 9, "chi": 9, "project": 9, "97": 9, "79": 9, "312": 9, "313": 9, "s_orig": 9, "def": [9, 11], "gt": 9, "_0": 9, "_1": 9, "_2": 9, "ir_visu": 9, "torchscriptvisu": 9, "dot1": 9, "render": 9, "classes_to_visit": 9, "yolohead": [9, 11], "dot2": 9, "postprocess": [9, 11], "unlik": 10, "deal": 10, "graghsurgeon": 10, "lot": 10, "ablat": 10, "efficientnms_trt": 10, "second": 10, "embed": 10, "even": 10, "guess": 10, "becaus": 10, "much": 10, "latenc": 10, "d2h": 10, "868048": 10, "0102295": 10, "nivdia": 10, "geforc": 10, "gtx": 10, "1080ti": 10, "512x640": 10, "graphsurgeon": 10, "just": 10, "prebuilt": 10, "wheel": 10, "onnx_graphsurgeon": 10, "url": 10, "pypi": 10, "ngc": 10, "nvidia": 10, "plugin": 10, "throughput": 10, "383": 10, "298": 10, "qp": 10, "41199": 10, "00543": 10, "median": 10, "99316": 10, "percentil": 10, "99": 10, "23831": 10, "host": 10, "76599": 10, "45874": 10, "08597": 10, "07544": 10, "50839": 10, "enqueu": 10, "743408": 10, "27966": 10, "940805": 10, "924805": 10, "37329": 10, "h2d": 10, "502045": 10, "62674": 10, "538255": 10, "537354": 10, "582153": 10, "gpu": 10, "23233": 10, "92395": 10, "59913": 10, "58661": 10, "8201": 10, "851807": 10, "900421": 10, "867676": 10, "889191": 10, "total": 10, "walltim": 10, "0081": 10, "99679": 10, "explan": 10, "metric": 10, "verbos": [10, 13], "trtexec": 10, "v8201": 10, "workspac": 10, "8096": 10, "389": 10, "234": 10, "81482": 10, "77234": 10, "1062": 10, "07642": 10, "33548": 10, "82202": 10, "6749": 10, "939": 10, "95587": 10, "45207": 10, "999878": 10, "3833": 10, "28942": 10, "18579": 10, "53088": 10, "488159": 10, "633881": 10, "546754": 10, "546631": 10, "570557": 10, "30298": 10, "21094": 10, "54921": 10, "51904": 10, "78528": 10, "00610352": 10, "302734": 10, "00976562": 10, "0151367": 10, "00591": 10, "98258": 10, "effici": 10, "unfold": 10, "stori": 10, "minim": 10, "guid": 10, "deeplearn": 10, "html": 10, "python": 10, "want": 10, "These": 10, "ubuntu": 10, "cento": 10, "There": 10, "mani": 10, "docker": 10, "ve": 10, "publish": 10, "meta": 10, "facebook": 10, "cloud": 10, "catalog": 10, "cuda_vis": 10, "assert": 10, "trt": 10, "re": 10, "detections_per_img": 10, "100": 10, "must": 10, "upgrad": 10, "higher": 10, "fp16": 10, "precis": 10, "engine_path": 10, "tool": [10, 13], "export_tensorrt_engin": 10, "trt_helper": 10, "input_sampl": 10, "rand": [10, 11], "root": 10, "568": 10, "2228": 10, "logits_decod": 10, "337": 10, "pytorch2onnx": 10, "successfulli": 10, "elis": 10, "routin": 10, "fail": 10, "attribut": 10, "plugin_vers": 10, "background_class": 10, "max_output_box": 10, "iou_threshold": 10, "score_activ": 10, "box_cod": 10, "descript": 10, "datatyp": 10, "num_detect": 10, "detection_box": 10, "detection_scor": 10, "detection_class": 10, "05": 10, "2022": 10, "memusagechang": 10, "init": 10, "457": 10, "674": 10, "354": 10, "mib": 10, "memusagesnapshot": 10, "builder": 10, "kernel": [10, 11, 13], "828": 10, "398": 10, "ir": 10, "domain": 10, "parser": 10, "onnx2trt_util": 10, "364": 10, "while": 10, "doe": 10, "attempt": 10, "down": 10, "392": 10, "clamp": 10, "No": 10, "search": 10, "plugin_namespac": 10, "cubla": 10, "cublaslt": 10, "850": 10, "368": 10, "1711": 10, "766": 10, "cudnn": 10, "125": 10, "58": 10, "1836": 10, "824": 10, "profil": [10, 13], "store": 10, "serial": 10, "success": 10, "persist": 10, "136048": 10, "15027712": 10, "scratch": 10, "40320768": 10, "memusagestat": 10, "peak": 10, "usag": 10, "alloc": 10, "4371": 10, "blockassign": 10, "algorithm": 10, "shiftntopdown": 10, "87204m": 10, "block": 10, "82": 10, "node": 10, "52404225": 10, "byte": 10, "activ": [10, 13], "4880": 10, "2272": 10, "2280": 10, "manag": 10, "new": 10, "predictortrt": 10, "550": 10, "1426": 10, "126": 10, "1552": 10, "798": 10, "deseri": 10, "3366": 10, "1696": 10, "3367": 10, "1704": 10, "iexecutioncontext": 10, "creation": 10, "78": 10, "warmup": 10, "predictions_trt": 10, "145": 10, "83350": 10, "82812": 10, "78564": 10, "77734": 10, "46313": 10, "85156": 10, "407": 10, "53125": 10, "51562": 10, "96875": 10, "662": 10, "34375": 10, "64844": 10, "84375": 10, "87500": 10, "57": 10, "58594": 10, "396": 10, "98438": 10, "214": 10, "94531": 10, "918": 10, "55469": 10, "221": 10, "69531": 10, "799": 10, "03125": 10, "784": 10, "68750": 10, "94922": 10, "553": 10, "50000": 10, "72": 10, "45703": 10, "predictions_pt": 10, "83449": 10, "82892": 10, "78632": 10, "78010": 10, "46298": 10, "82433": 10, "41098": 10, "70523": 10, "90283": 10, "59210": 10, "32590": 10, "79279": 10, "39319": 10, "56377": 10, "397": 10, "15387": 10, "215": 10, "05116": 10, "31415": 10, "63786": 10, "99287": 10, "34180": 10, "72064": 10, "00095": 10, "44971": 10, "44920": 10, "67841": 10, "assert_clos": 10, "decim": 10, "style": 11, "understand": 11, "adapt": [11, 13], "ensur": 11, "unit": 11, "ncnn": 11, "multi": 11, "q": 11, "restart": 11, "updat": 11, "easili": 11, "p5": 11, "p6": 11, "pathaggregationnetwork": 11, "fulli": 11, "captur": 11, "symmetri": 11, "pan": 11, "minimalist": 11, "_checkpoint": 11, "load_from_ultralyt": 11, "model_info": 11, "backbone_util": 11, "darknet_pan_backbon": 11, "backbone_nam": 11, "darknet_": 11, "replac": 11, "depth_multipl": [11, 13], "width_multipl": [11, 13], "use_p6": 11, "__init__": 11, "super": 11, "out_channel": 11, "sampl": 11, "featur": 11, "load_state_dict": 11, "state_dict": 11, "fx_trace_model": 11, "fx": 11, "symbolic_trac": 11, "jit_trace_model": 11, "conf": 13, "augment": 13, "variou": 13, "height": 13, "width": 13, "1280": 13, "posixpath": 13, "uri": 13, "hwc": 13, "bgr": 13, "open": 13, "imagegrab": 13, "grab": 13, "320": 13, "bchw": 13, "image1": 13, "image2": 13, "iou": 13, "max_det": 13, "1000": 13, "multi_label": 13, "c1": 13, "c2": 13, "shortcut": 13, "e": 13, "standard": 13, "ch_in": 13, "ch_out": 13, "group": 13, "expans": 13, "csp": 13, "wongkinyiu": 13, "crossstagepartialnetwork": 13, "convolut": 13, "dimens": 13, "p": 13, "act": 13, "determin": 13, "forward_fus": 13, "depth": 13, "wise": 13, "nc": 13, "ch": 13, "inplac": 13, "onnx_dynam": 13, "alia": 13, "detectionmodel": 13, "spatial": 13, "pyramid": 13, "fast": 13, "glenn": 13, "jocher": 13, "temporarili": 13, "folder": 13, "sy": 13, "fcakyon": 13, "0d03de6": 13, "l739": 13, "l754": 13, "hub": 13, "handl": 13, "d3e36fa": 13, "l387": 13, "l416": 13, "repo": 13, "hash_prefix": 13, "b": 13, "4c": 13, "dict1": 13, "dict2": 13, "exclud": 13, "intersect": 13, "kei": 13, "omit": 13, "im": 13, "ndarrai": 13, "scale_fil": 13, "scaleup": 13, "v3": 13, "v4": 13, "addit": 13, "avail": 13, "attach": 13, "batchnorm2d": 13, "conf_thr": 13, "iou_thr": 13, "300": 13, "suppress": 13, "cl": 13, "img1_shap": 13, "coord": 13, "img0_shap": 13, "ratio_pad": 13, "newlin": 13}, "objects": {"yolort.models": [[2, 0, 1, "", "YOLOv5"], [2, 0, 1, "", "yolov5l"], [2, 0, 1, "", "yolov5m"], [2, 0, 1, "", "yolov5m6"], [2, 0, 1, "", "yolov5n"], [2, 0, 1, "", "yolov5n6"], [2, 0, 1, "", "yolov5s"], [2, 0, 1, "", "yolov5s6"], [2, 0, 1, "", "yolov5ts"]], "yolort": [[13, 1, 0, "-", "v5"]], "yolort.v5": [[13, 2, 1, "", "AutoShape"], [13, 2, 1, "", "Bottleneck"], [13, 2, 1, "", "BottleneckCSP"], [13, 2, 1, "", "C3"], [13, 2, 1, "", "C3TR"], [13, 2, 1, "", "Concat"], [13, 2, 1, "", "Contract"], [13, 2, 1, "", "Conv"], [13, 2, 1, "", "DWConv"], [13, 2, 1, "", "Detect"], [13, 2, 1, "", "Ensemble"], [13, 2, 1, "", "Expand"], [13, 2, 1, "", "Focus"], [13, 2, 1, "", "GhostBottleneck"], [13, 2, 1, "", "GhostConv"], [13, 3, 1, "", "Model"], [13, 2, 1, "", "SPP"], [13, 2, 1, "", "SPPF"], [13, 0, 1, "", "add_yolov5_context"], [13, 0, 1, "", "attempt_download"], [13, 0, 1, "", "focus_transform"], [13, 0, 1, "", "get_yolov5_size"], [13, 0, 1, "", "intersect_dicts"], [13, 0, 1, "", "letterbox"], [13, 0, 1, "", "load_yolov5_model"], [13, 0, 1, "", "non_max_suppression"], [13, 0, 1, "", "scale_coords"], [13, 0, 1, "", "select_device"], [13, 0, 1, "", "set_logging"], [13, 0, 1, "", "space_to_depth"]], "yolort.v5.AutoShape": [[13, 3, 1, "", "classes"], [13, 3, 1, "", "conf"], [13, 4, 1, "", "forward"], [13, 3, 1, "", "iou"], [13, 3, 1, "", "max_det"], [13, 3, 1, "", "multi_label"]], "yolort.v5.Conv": [[13, 4, 1, "", "forward_fuse"]], "yolort.v5.Detect": [[13, 3, 1, "", "onnx_dynamic"], [13, 3, 1, "", "stride"]]}, "objtypes": {"0": "py:function", "1": "py:module", "2": "py:class", "3": "py:attribute", "4": "py:method"}, "objnames": {"0": ["py", "function", "Python function"], "1": ["py", "module", "Python module"], "2": ["py", "class", "Python class"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "method", "Python method"]}, "titleterms": {"welcom": 0, "yolort": [0, 1, 2, 4, 5, 6, 7, 8, 10, 11], "": [0, 4, 5], "document": 0, "quick": 0, "get": [0, 6], "state": 0, "us": [0, 4], "case": 0, "solut": [0, 11], "start": 0, "tutori": 0, "deploy": [0, 11], "api": 0, "refer": 0, "instal": [1, 10, 11], "model": [2, 4, 5, 7, 8, 9, 10, 11], "structur": [2, 11], "pre": [2, 6], "train": [2, 3, 5, 6], "weight": [2, 4, 7, 10], "visual": [3, 9, 10], "anchor": 3, "target": 3, "assign": 3, "setup": 3, "coco128": 3, "dataset": 3, "dataload": 3, "test": [3, 4, 6, 7, 10], "sampl": 3, "imag": [3, 4, 5, 6, 7, 8, 10], "batch": 3, "pipelin": 3, "extractor": 3, "intermedi": 3, "featur": 3, "obtain": [3, 11], "stride": 3, "visul": 3, "what": 4, "i": 4, "differ": 4, "between": [4, 7, 8, 10], "yolov5": [4, 5, 7, 8, 11, 13], "prepar": [4, 7, 10], "environ": [4, 5, 7], "load": [4, 5, 6, 7], "ultralyt": [4, 7], "infer": [4, 5, 6, 7, 8], "approach": 4, "inferenc": [4, 10], "verifi": [4, 5, 6, 7, 8, 10], "detect": [4, 7, 8, 10], "result": [4, 5, 7, 8, 10], "deploi": [5, 6, 10], "onnx": [5, 10], "runtim": 5, "set": 5, "up": 5, "function": [5, 11], "util": [5, 13], "from": [5, 6, 7, 11], "pytorch": [5, 8, 10], "backend": [5, 6, 8], "export": [5, 10], "whether": 5, "ar": 5, "consist": 5, "anoth": 5, "tvm": 6, "yolov5n": 6, "do": 6, "trace": 6, "download": 6, "process": 6, "import": 6, "graph": [6, 9], "relai": 6, "compil": 6, "vm": 6, "box": 6, "score": 6, "larger": 6, "than": 6, "0": 6, "6": 6, "output": [6, 7, 8], "how": 7, "align": 7, "updat": 7, "visualis": [7, 8], "intuit": 8, "read": 8, "an": 8, "definit": 8, "initi": 8, "script": 8, "torchscript": 8, "libtorch": 8, "compar": 8, "time": 8, "tensorrt": 10, "instruct": 10, "engin": 10, "predict": 10, "why": 11, "pypi": 11, "part": 11, "code": 11, "detail": 11, "compat": 11, "origin": 11, "backbon": 11, "full": 11, "support": 11, "modul": 13}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx.ext.intersphinx": 1, "nbsphinx": 4, "sphinx": 58}, "alltitles": {"Welcome to yolort\u2019s documentation!": [[0, "welcome-to-yolort-s-documentation"]], "Quick get stated": [[0, "quick-get-stated"]], "Use Cases and Solutions": [[0, "use-cases-and-solutions"]], "Getting Started": [[0, null]], "Tutorials": [[0, null]], "Deployment": [[0, null]], "API Reference": [[0, null]], "Install yolort": [[1, "install-yolort"]], "yolort.models": [[2, "yolort-models"]], "Models structure": [[2, "models-structure"]], "Pre-trained weights": [[2, "pre-trained-weights"]], "Visualize the anchor-target assignment": [[3, "Visualize-the-anchor-target-assignment"]], "Setup the coco128 dataset and dataloader for testing": [[3, "Setup-the-coco128-dataset-and-dataloader-for-testing"]], "Sample images and targets": [[3, "Sample-images-and-targets"]], "Training Batch in Pipeline": [[3, "Training-Batch-in-Pipeline"]], "Extractor Intermediate Feature": [[3, "Extractor-Intermediate-Feature"]], "Obtain Anchors and Strides": [[3, "Obtain-Anchors-and-Strides"]], "Assign Targets to Anchors": [[3, "Assign-Targets-to-Anchors"]], "Visulization Anchor": [[3, "Visulization-Anchor"]], "What is the difference between yolort and yolov5": [[4, "What-is-the-difference-between-yolort-and-yolov5"]], "Prepare environment, image and model weights to test": [[4, "Prepare-environment,-image-and-model-weights-to-test"], [7, "Prepare-environment,-image-and-model-weights-to-test"]], "Load model as ultralytics and inference": [[4, "Load-model-as-ultralytics-and-inference"], [7, "Load-model-as-ultralytics-and-inference"]], "Use yolort\u2019s approach to inferencing": [[4, "Use-yolort's-approach-to-inferencing"]], "Verify the detection results between yolort and ultralytics": [[4, "Verify-the-detection-results-between-yolort-and-ultralytics"], [7, "Verify-the-detection-results-between-yolort-and-ultralytics"]], "Deploying yolort on ONNX Runtime": [[5, "Deploying-yolort-on-ONNX-Runtime"]], "Set up environment and function utilities": [[5, "Set-up-environment-and-function-utilities"]], "Load the model trained from yolov5": [[5, "Load-the-model-trained-from-yolov5"]], "Inference on PyTorch backend": [[5, "Inference-on-PyTorch-backend"]], "Export the model to ONNX": [[5, "Export-the-model-to-ONNX"]], "Inference on ONNX Runtime backend": [[5, "Inference-on-ONNX-Runtime-backend"]], "Verify whether the inference results are consistent with PyTorch\u2019s": [[5, "Verify-whether-the-inference-results-are-consistent-with-PyTorch's"]], "Verify another image": [[5, "Verify-another-image"]], "Deploying yolort on TVM": [[6, "Deploying-yolort-on-TVM"]], "Load pre-trained yolov5n from yolort and do tracing": [[6, "Load-pre-trained-yolov5n-from-yolort-and-do-tracing"]], "Download a test image and pre-process": [[6, "Download-a-test-image-and-pre-process"]], "Import the graph to Relay": [[6, "Import-the-graph-to-Relay"]], "Compile with Relay VM": [[6, "Compile-with-Relay-VM"]], "Inference with Relay VM": [[6, "Inference-with-Relay-VM"]], "Get boxes with score larger than 0.6": [[6, "Get-boxes-with-score-larger-than-0.6"]], "Verify the Inference Output on TVM backend": [[6, "Verify-the-Inference-Output-on-TVM-backend"]], "How to align with ultralytics yolov5": [[7, "How-to-align-with-ultralytics-yolov5"]], "Updating model weights from ultralytics to yolort and inference": [[7, "Updating-model-weights-from-ultralytics-to-yolort-and-inference"]], "Detection output visualisation": [[7, "Detection-output-visualisation"], [8, "Detection-output-visualisation"]], "Intuition for yolort": [[8, "Intuition-for-yolort"]], "Read an image": [[8, "Read-an-image"]], "Model Definition and Initialization": [[8, "Model-Definition-and-Initialization"]], "Verify the PyTorch backend inference results": [[8, "Verify-the-PyTorch-backend-inference-results"]], "Scripting YOLOv5": [[8, "Scripting-YOLOv5"]], "Inference on TorchScript Backend": [[8, "Inference-on-TorchScript-Backend"]], "Verify the Inference Output on LibTorch backend": [[8, "Verify-the-Inference-Output-on-LibTorch-backend"]], "Comparing Inference Time between pytorch and libtorch": [[8, "Comparing-Inference-Time-between-pytorch-and-libtorch"]], "Visualize model graph": [[9, "Visualize-model-graph"]], "Deploying yolort on TensorRT": [[10, "Deploying-yolort-on-TensorRT"]], "TensorRT Installation Instructions": [[10, "TensorRT-Installation-Instructions"]], "Prepare image and model weights to test": [[10, "Prepare-image-and-model-weights-to-test"]], "Export to ONNX and TensorRT model": [[10, "Export-to-ONNX-and-TensorRT-model"]], "Test the exported TensorRT engine": [[10, "Test-the-exported-TensorRT-engine"]], "Inferencing with TensorRT": [[10, "Inferencing-with-TensorRT"]], "Predict as yolort": [[10, "Predict-as-yolort"]], "Inferencing with PyTorch": [[10, "Inferencing-with-PyTorch"]], "Verify the detection results between yolort and TensorRT": [[10, "Verify-the-detection-results-between-yolort-and-TensorRT"]], "Visualize the TensorRT detections": [[10, "Visualize-the-TensorRT-detections"]], "Why yolort?": [[11, "Why-yolort?"]], "Install yolort from PyPI": [[11, "Install-yolort-from-PyPI"]], "Part of the code details": [[11, "Part-of-the-code-details"]], "Compatible with YOLOv5 original model structure": [[11, "Compatible-with-YOLOv5-original-model-structure"]], "Obtain Backbone": [[11, "Obtain-Backbone"]], "Obtain full YOLOv5 model structure": [[11, "Obtain-full-YOLOv5-model-structure"]], "Functional deployment support solutions": [[11, "Functional-deployment-support-solutions"]], "Modules and utils for YOLOv5": [[13, "modules-and-utils-for-yolov5"]]}, "indexentries": {"yolov5() (in module yolort.models)": [[2, "yolort.models.YOLOv5"]], "yolov5l() (in module yolort.models)": [[2, "yolort.models.yolov5l"]], "yolov5m() (in module yolort.models)": [[2, "yolort.models.yolov5m"]], "yolov5m6() (in module yolort.models)": [[2, "yolort.models.yolov5m6"]], "yolov5n() (in module yolort.models)": [[2, "yolort.models.yolov5n"]], "yolov5n6() (in module yolort.models)": [[2, "yolort.models.yolov5n6"]], "yolov5s() (in module yolort.models)": [[2, "yolort.models.yolov5s"]], "yolov5s6() (in module yolort.models)": [[2, "yolort.models.yolov5s6"]], "yolov5ts() (in module yolort.models)": [[2, "yolort.models.yolov5ts"]], "autoshape (class in yolort.v5)": [[13, "yolort.v5.AutoShape"]], "bottleneck (class in yolort.v5)": [[13, "yolort.v5.Bottleneck"]], "bottleneckcsp (class in yolort.v5)": [[13, "yolort.v5.BottleneckCSP"]], "c3 (class in yolort.v5)": [[13, "yolort.v5.C3"]], "c3tr (class in yolort.v5)": [[13, "yolort.v5.C3TR"]], "concat (class in yolort.v5)": [[13, "yolort.v5.Concat"]], "contract (class in yolort.v5)": [[13, "yolort.v5.Contract"]], "conv (class in yolort.v5)": [[13, "yolort.v5.Conv"]], "dwconv (class in yolort.v5)": [[13, "yolort.v5.DWConv"]], "detect (class in yolort.v5)": [[13, "yolort.v5.Detect"]], "ensemble (class in yolort.v5)": [[13, "yolort.v5.Ensemble"]], "expand (class in yolort.v5)": [[13, "yolort.v5.Expand"]], "focus (class in yolort.v5)": [[13, "yolort.v5.Focus"]], "ghostbottleneck (class in yolort.v5)": [[13, "yolort.v5.GhostBottleneck"]], "ghostconv (class in yolort.v5)": [[13, "yolort.v5.GhostConv"]], "model (in module yolort.v5)": [[13, "yolort.v5.Model"]], "spp (class in yolort.v5)": [[13, "yolort.v5.SPP"]], "sppf (class in yolort.v5)": [[13, "yolort.v5.SPPF"]], "add_yolov5_context() (in module yolort.v5)": [[13, "yolort.v5.add_yolov5_context"]], "attempt_download() (in module yolort.v5)": [[13, "yolort.v5.attempt_download"]], "classes (yolort.v5.autoshape attribute)": [[13, "yolort.v5.AutoShape.classes"]], "conf (yolort.v5.autoshape attribute)": [[13, "yolort.v5.AutoShape.conf"]], "focus_transform() (in module yolort.v5)": [[13, "yolort.v5.focus_transform"]], "forward() (yolort.v5.autoshape method)": [[13, "yolort.v5.AutoShape.forward"]], "forward_fuse() (yolort.v5.conv method)": [[13, "yolort.v5.Conv.forward_fuse"]], "get_yolov5_size() (in module yolort.v5)": [[13, "yolort.v5.get_yolov5_size"]], "intersect_dicts() (in module yolort.v5)": [[13, "yolort.v5.intersect_dicts"]], "iou (yolort.v5.autoshape attribute)": [[13, "yolort.v5.AutoShape.iou"]], "letterbox() (in module yolort.v5)": [[13, "yolort.v5.letterbox"]], "load_yolov5_model() (in module yolort.v5)": [[13, "yolort.v5.load_yolov5_model"]], "max_det (yolort.v5.autoshape attribute)": [[13, "yolort.v5.AutoShape.max_det"]], "module": [[13, "module-yolort.v5"]], "multi_label (yolort.v5.autoshape attribute)": [[13, "yolort.v5.AutoShape.multi_label"]], "non_max_suppression() (in module yolort.v5)": [[13, "yolort.v5.non_max_suppression"]], "onnx_dynamic (yolort.v5.detect attribute)": [[13, "yolort.v5.Detect.onnx_dynamic"]], "scale_coords() (in module yolort.v5)": [[13, "yolort.v5.scale_coords"]], "select_device() (in module yolort.v5)": [[13, "yolort.v5.select_device"]], "set_logging() (in module yolort.v5)": [[13, "yolort.v5.set_logging"]], "space_to_depth() (in module yolort.v5)": [[13, "yolort.v5.space_to_depth"]], "stride (yolort.v5.detect attribute)": [[13, "yolort.v5.Detect.stride"]], "yolort.v5": [[13, "module-yolort.v5"]]}})